/*!
 * http://www.zkea.net/
 * Copyright 2016 ZKEASOFT
 * http://www.zkea.net/licenses
 */
jQuery.fn.extend({FocusImages:function(n,t){function g(){clearTimeout(w);w=setTimeout(function(){nt()},t)}function tt(n){i.find(".tempDivSheet").length==0&&u!=n&&(o=n,nt())}function nt(){f++;f==9&&(f=0);f<=1?ft():f>=2&&f<=6?ut():f==7?it():f==8&&rt()}function l(n){o==-1?u++:u=o;o=-1;u>=r.Pics.length&&(u=0);i.find("li").each(function(){$(this).index()==u?$(this).attr("class","Focus-ul-li-cur"):$(this).attr("class","Focus-ul-li")});e.onload=function(){n instanceof Function&&n.call();g()};setTimeout(function(){e.src=r.Pics[u].Url},100)}function it(){function s(){var n=0;i.find(".tempDivSheet").each(function(){n==0?($(this).animate({left:i.width()},800*Math.random(),function(){$(this).remove()}),n=1):($(this).animate({left:i.width()*-1},800*Math.random(),function(){$(this).remove()}),n=0)})}for(var n,e=i.width(),o=i.height(),f=Math.round(o/h),t=0;t<h;t++)n=$("<p class='tempDivSheet' style='display:block; position:absolute;padding:0px; margin:0px'><\/p>"),n.css("height",f),n.css("width",e),n.css("background-image","url('"+r.Pics[u].Url+"')"),n.css("background-position","0px -"+f*t+"px"),n.css("top",f*t),n.css("left","0"),i.append(n);l(s)}function rt(){function v(){var n=0;i.find(".tempDivSheet").each(function(){var r=this;setTimeout(function(){$(r).animate({height:s},350,function(){n--;n==0&&(t.remove(),i.find(".tempDivSheet").remove())})},n*50);n++})}var c=i.width(),a=i.height(),s=Math.round(a/h),t=$("<div style='display:block; position:absolute;padding:0px; margin:0px; left:0px; top:0px'><\/div>"),f,e,n;for(t.width(c),t.height(a),t.css("background-image","url('"+r.Pics[u].Url+"')"),i.append(t),f=0,f=o==-1?u+1:o,f>=r.Pics.length&&(f=0),e=0;e<h;e++)n=$("<p class='tempDivSheet' style='display:block; position:absolute;padding:0px; margin:0px'><\/p>"),n.css("height",0),n.css("width",c),n.css("background-image","url('"+r.Pics[f].Url+"')"),n.css("background-position","0px -"+s*e+"px"),n.css("top",s*e),n.css("left","0"),i.append(n);l(v)}function ut(){function h(){f==2?c():f==3?v():f==4?y():f==5?p():f==6&&w()}function c(){var n=0;i.find(".tempDivSheet").each(function(){n==0?($(this).animate({top:i.height()},1e3*Math.random(),function(){$(this).remove()}),n=1):($(this).animate({top:i.height()*-1},1e3*Math.random(),function(){$(this).remove()}),n=0)})}function v(){i.find(".tempDivSheet").each(function(){var n=Math.round(Math.random()*10);n<4?$(this).animate({width:0,left:i.width()},500,function(){$(this).remove()}):n>=4&&n<7?$(this).animate({width:0,left:0},500,function(){$(this).remove()}):$(this).animate({width:0},500,function(){$(this).remove()})})}function y(){i.find(".tempDivSheet").each(function(){$(this).animate({width:0,left:i.width(),opacity:0},1e3*Math.random(),function(){$(this).remove()})})}function p(){i.find(".tempDivSheet").each(function(){$(this).animate({width:0,left:0,opacity:0},1e3*Math.random(),function(){$(this).remove()})})}function w(){i.find(".tempDivSheet").each(function(){$(this).animate({width:0},1e3*Math.random(),function(){$(this).remove()})})}for(var n,o=i.width(),s=i.height(),e=Math.round(o/a),t=0;t<a;t++)n=$("<p class='tempDivSheet' style='display:block; position:absolute;padding:0px; margin:0px'><\/p>"),n.css("height",s),n.css("width",e),n.css("background-image","url('"+r.Pics[u].Url+"')"),n.css("background-position","-"+e*t+"px 0px"),n.css("top",0),n.css("left",e*t),i.append(n);l(h)}function ft(){function o(){f==0?i.find(".tempDivSheet").animate({opacity:0,width:0,height:0,top:i.height()/2,left:i.width()/2,"background-position-x":i.width()/-2,"background-position-y":i.height()/-2},500,function(){$(this).remove()}):i.find(".tempDivSheet").animate({opacity:0},500,function(){$(this).remove()})}var t=i.width(),e=i.height(),n=$("<p class='tempDivSheet' style='display:block; position:absolute;padding:0px; margin:0px'><\/p>");n.height(e);n.width(t);n.css("top","0");n.css("left","0");n.css("background-image","url('"+r.Pics[u].Url+"')");i.append(n);l(o)}var u=0,f=-1,r,i=this,o=-1,w=0,h=10,a=20,b={H_pieces:10,V_pieces:20},v,c,y,s,k,d,p,e;if(h=b.H_pieces,a=b.V_pieces,r=n,!r||!r.Pics||!r.Pics[0].Url||typeof r.Pics[0].Target!="string"||typeof r.Pics[0].Content!="string")return alert("FocusImages()：给定的JSON数据格式不正确！\r\n例：{ Pics: [{ Url: '图片地址', Target: '跳转地址,不需要则留空',Content:'图片文字说明' }]}"),!1;for(typeof t!="number"&&(t=4e3),v=$("<div class='FocusInfoUl' style='background-color:Black'><\/div>"),v.fadeTo(0,.6),i.append(v),i.css("display","block"),i.css("position")!="relative"&&i.css("position")!="absolute"&&i.css("position")!="fixed"&&i.css("position","relative"),i.css("overflow","hidden"),c=$("<ul class='FocusInfoUl'><\/ul>"),y=100/r.Pics.length,s=0;s<r.Pics.length;s++)s==0?(k="<li class='Focus-ul-li-cur' style='width:"+y+"%'><div><\/div><a href='javascript:void(0)'>"+r.Pics[s].Content+"<\/a><\/li>",c.append(k)):(d="<li class='Focus-ul-li' style='width:"+y+"%'><div><\/div><a href='javascript:void(0)'>"+r.Pics[s].Content+"<\/a><\/li>",c.append(d));c.find("div").fadeTo(0,.3);i.append(c);p=0;i.find("ul a").each(function(){var n=p;$(this).click(function(){tt(n);$(this)[0].blur()});p++});e=new Image;e.onload=function(){g()};e.src=r.Pics[u].Url;e.onclick=function(){r.Pics[u].Target!=""&&open(r.Pics[u].Target)};i.append(e)}});